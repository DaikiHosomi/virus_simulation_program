var graphSketch=function(a){function u(m){var d=0,e=sirsim.getStatus(),h={SUSCEPTIBLE:{r:255,g:255,b:0},INFECTIOUS:{r:255,g:0,b:0},RECOVERED:{r:0,g:255,b:0},QUARANTINED:{r:0,g:0,b:0}},n=0,p={SUSCEPTIBLE:sirsim.getNumberOfBalls(),INFECTIOUS:0,RECOVERED:0,QUARANTINED:0},k=f.height,q=k/m,b,r={drawLines:function(g){b={SUSCEPTIBLE:m,INFECTIOUS:0,RECOVERED:0,QUARANTINED:0};g.forEach(function(v){switch(v){case e.INFECTIOUS:++b.INFECTIOUS;--b.SUSCEPTIBLE;break;case e.RECOVERED:++b.RECOVERED;--b.SUSCEPTIBLE;
    break;case e.QUARANTINED:++b.QUARANTINED,--b.SUSCEPTIBLE}});for(var c in e)a.stroke(h[c].r,h[c].g,h[c].b),g=b[c],a.line(n,Math.floor(k-q*p[c]),d,Math.floor(k-q*g)),p[c]=g;n=d;0===b.INFECTIOUS&&a.noLoop()},draw:function(){d+=3;d==f.width?a.noLoop():r.drawLines(sirsim.getStatusArray())}};return r}var l,w=screen.availWidth-32,f=672<screen.availWidth?{width:640,height:200}:{width:w,height:200},t;a.setup=function(){l=a.createCanvas(f.width,f.height);l.id("graph-canvas");l.parent("graph-container");a.frameRate(6);
    a.reset()};a.reset=function(){a.background(255);prev_x=currentXCoordinatePixel=0;prev_y={SUSCEPTIBLE:sirsim.getNumberOfBalls(),INFECTIOUS:0,RECOVERED:0,QUARANTINED:0};t=u(sirsim.getNumberOfBalls());a.strokeWeight(4);a.loop()};a.draw=function(){t.draw()}};